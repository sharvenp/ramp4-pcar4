import{gs as s,gC as r,gD as d}from"./main.4cbfea05.js";import"./preload-helper.387dac8f.js";class o extends s{addLayerItems(){const t=this.$iApi.fixture.get("legend");(this.$vApp.$store.get(r.layerConfigs)??[]).forEach(e=>{const i={layerId:e.id,name:e.name,layerControls:e.controls,disabledLayerControls:e.disabledControls,expanded:!1};t.getLayerItem(e.id)||t.addItem(i)}),this.$iApi.geo.layer.allLayers().forEach(e=>{!t.getLayerItem(e)&&!e.isCosmetic&&t.addLayerItem(e),t.updateLegend(e)}),this.$iApi.geo.layer.allErrorLayers().forEach(e=>{!t.getLayerItem(e)&&!e.isCosmetic&&t.addLayerItem(e),t.updateLegend(e)})}}class y extends o{added(){this.$vApp.$store.get(d.getStartingFixtures).includes("legend")?this.$iApi.fixture.isLoaded("legend").then(()=>{this.addLayerItems()}):this.$iApi.fixture.add("legend").then(()=>{this.addLayerItems()})}}export{y as default};
